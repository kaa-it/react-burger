{"version":3,"sources":["pages/home/home.module.css","components/burger-ingredients/ingredients-group/ingredients-group.module.css","components/modal/modal-overlay/modal-overlay.module.css","components/order-info/order-info.module.css","services/middleware/socketMiddleware.ts","components/app-header/app-header.tsx","utils/constants.ts","utils/auth.ts","services/authSlice.ts","services/ingredientsSlice.ts","services/constructorSlice.ts","services/orderSlice.ts","services/orders/actions.ts","services/orders/reducer.ts","services/index.ts","pages/forgot-password/forgot-password.tsx","components/burger-ingredients/ingredient-item/ingredient-item.tsx","components/burger-ingredients/ingredients-group/ingredients-group.tsx","components/burger-ingredients/burger-ingredients.tsx","components/modal/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","images/done.png","components/burger-constructor/order-details/order-details.tsx","components/burger-constructor/constructor-item.tsx","components/burger-constructor/placeholder-item/placeholder-item.tsx","components/burger-constructor/constructor-area.tsx","components/burger-constructor/burger-constructor.tsx","pages/home/home.tsx","pages/login/login.tsx","images/404.png","pages/not-found/not-found.tsx","components/order-card/ingredients-illustrations/ingredients-illustrations.tsx","utils/utils.ts","components/order-card/order-card.tsx","components/orders/orders.tsx","components/orders-summary/orders-summary.tsx","pages/order-feed/order-feed.tsx","components/profile/profile.tsx","components/protected-route/protected-route.tsx","pages/profile/profile.tsx","pages/registration/registration.tsx","pages/reset-password/reset-password.tsx","components/burger-ingredients/ingredient-details/ingredient-details.tsx","components/ingredients/ingredients.tsx","components/order-info/order-info.tsx","components/app/app.tsx","reportWebVitals.ts","index.tsx","components/app-header/app-header.module.css","components/burger-constructor/burger-constructor.module.css","pages/profile/profile.module.css","components/orders-summary/order-summary.module.css","components/ingredients/ingredients.module.css","components/order-card/order-card.module.css","components/burger-ingredients/ingredient-details/ingredient-details.module.css","pages/order-feed/order-feed.module.css","components/burger-ingredients/burger-ingredients.module.css","components/burger-ingredients/ingredient-item/ingredient-item.module.css","pages/login/login.module.css","components/order-card/ingredients-illustrations/ingredients-illustrations.module.css","components/burger-constructor/placeholder-item/placeholder-item.module.css","components/orders/orders.module.css","pages/forgot-password/forgot-password.module.css","components/modal/modal.module.css","components/profile/profile.module.css","pages/registration/registration.module.css","pages/reset-password/reset-password.module.css","components/app/app.module.css","components/burger-constructor/order-details/order-details.module.css","pages/not-found/not-found.module.css"],"names":["module","exports","wsActions","AppHeader","className","styles","header","header_content","left_menu","to","exact","menu_item","activeClassName","active_menu_item","type","logo","right_menu","baseUrl","refreshToken","a","fetch","method","headers","body","JSON","stringify","token","localStorage","getItem","fetchWithRefresh","url","options","res","ok","json","message","refreshRes","success","setItem","accessToken","opts","Authorization","login","createAsyncThunk","credentials","thunkAPI","user","rejectWithValue","register","userInfo","checkResetPassword","email","resetPassword","form","getUser","empty","updateUser","logout","initialState","isResetPassword","isPasswordWasReset","isLoading","hasError","isShown","isLoggedIn","isFetchedUser","isLoggedOut","authSlice","createSlice","name","reducers","clearPasswordReset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","removeItem","actions","fetchIngredients","data","ingredients","ingredientsMap","Map","currentTab","ingredientsSlice","switchTab","forEach","item","set","_id","constructorSlice","bun","setBun","addIngredient","push","removeIngredient","filter","el","key","moveIngredient","splice","toIndex","fromIndex","clearConstructor","createOrder","order","dispatch","number","orderSlice","showOrderDetails","closeOrderDetails","connect","createAction","disconnect","wsOpen","wsClose","wsMessage","wsError","getOrder","_thunkAPI","orders","ordersReducer","createReducer","connectionError","total","totalToday","rootReducer","combineReducers","ingredientsReducer","burgerConstructor","constructorReducer","orderDetails","orderSliceReducer","auth","authSliceReducer","ordersMiddleware","wsConnect","OrdersWsConnect","wsDisconnect","OrdersWsDisconnect","onClose","OrdersWsClose","onOpen","OrdersWsOpen","onError","OrdersWsError","onMessage","OrdersWsMessage","store","socket","next","wsSendMessage","match","WebSocket","onopen","_","onerror","onmessage","event","parsedData","parse","onclose","send","close","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","concat","useAppDispatch","useDispatch","useAppSelector","useSelector","ForgotPasswordPage","useLocation","useState","setValue","handleResetPassword","useCallback","e","preventDefault","console","log","pathname","from","forgot_password","onSubmit","onChange","target","value","line","link","IngredientItem","showDetails","count","useDrag","collect","monitor","opacity","isDragging","ref","ingredient_item","data-test","style","content","onClick","alt","src","image","illustration","price","ingredient_item_text","size","IngredientsGroup","constructorIngredients","statistics","useMemo","length","groupType","map","reduce","acc","get","BurgerIngredients","bunsRef","useRef","saucesRef","mainsRef","tabsRef","history","useHistory","selectGroup","current","scrollIntoView","behavior","block","inline","showIngredientDetails","modal","burger_ingredients","title","tabs","active","group_list","onScroll","tabsBottom","getBoundingClientRect","bottom","bunsTop","top","saucesTop","mainsTop","bunsDelta","Math","abs","saucesDelta","mainsDelta","min","newTab","ModalOverlay","children","currentTarget","overlay","modalRoot","document","getElementById","Modal","useEffect","handleEscape","code","addEventListener","removeEventListener","ReactDOM","createPortal","header_with_title","header_without_title","OrderDetails","order_details","textShadow","done","ConstructorItem","index","onRemove","moveItem","isLocked","undefined","suffix","text","drag","useDrop","accept","handlerId","getHandlerId","canDrop","_item","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","hoverClientY","getClientOffset","y","drop","constructor_item","visibility","thumbnail","handleClose","PlaceholderItem","highlighted","placeholder_item","placeholder_item_top","placeholder_item_bottom","placeholder_item_highlighted","ConstructorArea","uuid","isBunOver","isOver","getItemType","isIngredientOver","dropTarget","constructor_area","scroll_area","BurgerConstructor","totalPrice","burger_constructor","info","HomePage","home","DndProvider","backend","HTML5Backend","LoginPage","password","handleChange","handleLogin","NotFound404","not_found","height","IngredientsIllustrations","props","images","reverse","num","illustrations","slice","i","left","border","statusInfo","status","OrderCard","my","showInfo","id","ingredient","image_mobile","includes","date","b","statusClassName","status_success","card","id_info","createdAt","Date","toLocaleString","weekday","year","month","day","timeZoneName","hour12","hour","minute","composition_and_price","Orders","useRouteMatch","path","strict","sensitive","split","showOrderInfo","feed","list","Object","keys","checkOrder","OrderStatusWall","numbers","isDone","cols","floor","array","Array","chunks","all","one","ch","columns_success","columns","column","v","OrdersSummary","doneOrders","otherOrders","orders_summary","statuses","OrderFeedPage","order_feed","summary","Profile","profile","placeholder","setTimeout","ProtectedRoute","rest","render","location","ProfilePage","menu","cursor","right","width","paddingTop","RegistrationPage","handleRegister","registration","ResetPasswordPage","reset_password","IngredientDetails","useParams","find","ingredient_details","data_item","calories","proteins","fat","carbohydrates","goBack","Ingredient","Ingredients","orderIngredients","Set","arr","val","OrderInfo","order_info","toString","ingredients_title","footer","container","App","app","main","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","enableMapSet","StrictMode"],"mappings":"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","file":"static/js/main.61347543.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home_home__1AMrN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ingredients-group_content__2g0n_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__y6RBt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order_info\":\"order-info_order_info__L1D41\",\"container\":\"order-info_container__1pNnv\",\"number\":\"order-info_number__3cqwd text text_type_digits-default\",\"title\":\"order-info_title__3scK3 text_type_main-medium mt-10 mb-3\",\"status\":\"order-info_status__231JW text text_type_main-default\",\"status_success\":\"order-info_status_success__OT1tn order-info_status__231JW text text_type_main-default\",\"ingredients_title\":\"order-info_ingredients_title__2pQO6 text_type_main-medium mt-15\",\"ingredients\":\"order-info_ingredients__1xUCP\",\"footer\":\"order-info_footer__18mVw\",\"price\":\"order-info_price__c1MSY\"};","import {\r\n  ActionCreatorWithoutPayload,\r\n  ActionCreatorWithPayload,\r\n  Middleware,\r\n} from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"../index\";\r\n\r\nexport type TWSActionTypes = {\r\n  wsConnect: ActionCreatorWithPayload<string>;\r\n  wsDisconnect: ActionCreatorWithoutPayload;\r\n  wsSendMessage?: ActionCreatorWithPayload<any>;\r\n  onOpen: ActionCreatorWithoutPayload;\r\n  onClose: ActionCreatorWithoutPayload;\r\n  onError: ActionCreatorWithPayload<string>;\r\n  onMessage: ActionCreatorWithPayload<any>;\r\n};\r\n\r\nexport const socketMiddleware = (\r\n  wsActions: TWSActionTypes\r\n): Middleware<{}, RootState> => {\r\n  return (store) => {\r\n    let socket: WebSocket | null = null;\r\n\r\n    return (next) => (action) => {\r\n      const { dispatch } = store;\r\n      const { payload } = action;\r\n      const {\r\n        wsConnect,\r\n        wsDisconnect,\r\n        wsSendMessage,\r\n        onOpen,\r\n        onClose,\r\n        onError,\r\n        onMessage,\r\n      } = wsActions;\r\n\r\n      if (wsConnect.match(action)) {\r\n        socket = new WebSocket(payload);\r\n      }\r\n\r\n      if (socket) {\r\n        socket.onopen = (_) => {\r\n          dispatch(onOpen());\r\n        };\r\n\r\n        socket.onerror = (_) => {\r\n          dispatch(onError(\"Ошибка веб-сокета\"));\r\n        };\r\n\r\n        socket.onmessage = (event) => {\r\n          const { data } = event;\r\n          const parsedData = JSON.parse(data);\r\n          const { success, ...orders } = parsedData;\r\n          dispatch(onMessage(orders));\r\n        };\r\n\r\n        socket.onclose = (_) => {\r\n          dispatch(onClose());\r\n        };\r\n\r\n        if (wsSendMessage && wsSendMessage.match(action)) {\r\n          socket.send(JSON.stringify(payload));\r\n        }\r\n\r\n        if (wsDisconnect.match(action)) {\r\n          socket.close();\r\n        }\r\n      }\r\n\r\n      next(action);\r\n    };\r\n  };\r\n};\r\n","import React from \"react\";\nimport { Logo } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/logo\";\nimport \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/box.css\";\nimport styles from \"./app-header.module.css\";\nimport { BurgerIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/burger-icon\";\nimport { ListIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/list-icon\";\nimport { ProfileIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/profile-icon\";\nimport { Link, NavLink } from \"react-router-dom\";\n\nconst AppHeader: React.FC = () => {\n  return (\n    <header className={styles.header}>\n      <div className={styles.header_content}>\n        <nav className={styles.left_menu}>\n          <NavLink\n            to=\"/react-burger\"\n            exact\n            className={styles.menu_item}\n            activeClassName={styles.active_menu_item}\n          >\n            <BurgerIcon type=\"primary\" />\n            <p className=\"pl-2\">Конструктор</p>\n          </NavLink>\n          <NavLink\n            to=\"/react-burger/feed\"\n            exact\n            className={styles.menu_item}\n            activeClassName={styles.active_menu_item}\n          >\n            <ListIcon type=\"secondary\" />\n            <p className=\"pl-2\">Лента заказов</p>\n          </NavLink>\n        </nav>\n        <Link to=\"/react-burger\" className={styles.logo}>\n          <Logo />\n        </Link>\n        <nav className={styles.right_menu}>\n          <NavLink\n            to=\"/react-burger/profile\"\n            className={styles.menu_item}\n            activeClassName={styles.active_menu_item}\n          >\n            <ProfileIcon type=\"secondary\" />\n            <p className=\"pl-2\">Личный кабинет</p>\n          </NavLink>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nexport default AppHeader;\n","export const baseUrl = \"https://norma.nomoreparties.space/api\";\r\n","import { baseUrl } from \"./constants\";\r\n\r\nconst refreshToken = async () => {\r\n  return await fetch(`${baseUrl}/auth/token`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json;charset=utf-8\",\r\n    },\r\n    body: JSON.stringify({\r\n      token: localStorage.getItem(\"refreshToken\"),\r\n    }),\r\n  });\r\n};\r\n\r\nexport const fetchWithRefresh = async (\r\n  url: string,\r\n  options: RequestInit | undefined\r\n) => {\r\n  const res = await fetch(url, options);\r\n\r\n  if (res.ok) {\r\n    return await res.json();\r\n  }\r\n\r\n  const json = await res.json();\r\n\r\n  if (json.message === \"jwt expired\") {\r\n    const refreshRes = await refreshToken();\r\n    const json = await refreshRes.json();\r\n\r\n    if (!json.success) {\r\n      return json;\r\n    }\r\n\r\n    localStorage.setItem(\"accessToken\", json.accessToken);\r\n    localStorage.setItem(\"refreshToken\", json.refreshToken);\r\n\r\n    let opts = options || { method: \"GET\", headers: {} };\r\n\r\n    opts.headers = { ...opts.headers, Authorization: json.accessToken };\r\n\r\n    const res = await fetch(url, opts);\r\n    return await res.json();\r\n  } else {\r\n    return json;\r\n  }\r\n};\r\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { baseUrl } from \"../utils/constants\";\r\nimport { fetchWithRefresh } from \"../utils/auth\";\r\nimport {\r\n  TCredentials,\r\n  TAuthResult,\r\n  TUser,\r\n  TResetPasswordArgs,\r\n} from \"../utils/types\";\r\nimport { ThunkAPI } from \"./index\";\r\n\r\nexport const login = createAsyncThunk<TAuthResult, TCredentials, ThunkAPI>(\r\n  \"auth/login\",\r\n  async (credentials, thunkAPI) => {\r\n    const res = await fetch(`${baseUrl}/auth/login`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(credentials),\r\n    });\r\n\r\n    const json = await res.json();\r\n\r\n    if (json.success) {\r\n      localStorage.setItem(\"accessToken\", json.accessToken);\r\n      localStorage.setItem(\"refreshToken\", json.refreshToken);\r\n      return {\r\n        user: json.user,\r\n        accessToken: json.accessToken,\r\n        refreshToken: json.refreshToken,\r\n      };\r\n    } else {\r\n      return thunkAPI.rejectWithValue(\"\");\r\n    }\r\n  }\r\n);\r\n\r\nexport const register = createAsyncThunk<TAuthResult, TUser, ThunkAPI>(\r\n  \"auth/register\",\r\n  async (userInfo, thunkAPI) => {\r\n    const res = await fetch(`${baseUrl}/auth/register`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n      body: JSON.stringify(userInfo),\r\n    });\r\n\r\n    const json = await res.json();\r\n\r\n    if (json.success) {\r\n      localStorage.setItem(\"accessToken\", json.accessToken);\r\n      localStorage.setItem(\"refreshToken\", json.refreshToken);\r\n      return {\r\n        user: json.user,\r\n        accessToken: json.accessToken,\r\n        refreshToken: json.refreshToken,\r\n      };\r\n    } else {\r\n      return thunkAPI.rejectWithValue(\"\");\r\n    }\r\n  }\r\n);\r\n\r\nexport const checkResetPassword = createAsyncThunk<void, string, ThunkAPI>(\r\n  \"auth/forgot-password\",\r\n  async (email, thunkAPI) => {\r\n    const res = await fetch(`${baseUrl}/password-reset`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n      },\r\n      body: JSON.stringify({ email }),\r\n    });\r\n\r\n    const json = await res.json();\r\n\r\n    if (json.success) {\r\n      return;\r\n    } else {\r\n      return thunkAPI.rejectWithValue(\"\");\r\n    }\r\n  }\r\n);\r\n\r\nexport const resetPassword = createAsyncThunk<\r\n  void,\r\n  TResetPasswordArgs,\r\n  ThunkAPI\r\n>(\"auth/reset-password\", async (form: any, thunkAPI) => {\r\n  const res = await fetch(`${baseUrl}/password-reset/reset`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json;charset=utf-8\",\r\n    },\r\n    body: JSON.stringify(form),\r\n  });\r\n\r\n  const json = await res.json();\r\n\r\n  if (json.success) {\r\n    return;\r\n  } else {\r\n    return thunkAPI.rejectWithValue(\"\");\r\n  }\r\n});\r\n\r\nexport const getUser = createAsyncThunk<TUser, void, ThunkAPI>(\r\n  \"auth/get-user\",\r\n  async (empty, thunkAPI) => {\r\n    const json = await fetchWithRefresh(`${baseUrl}/auth/user`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n        Authorization: localStorage.getItem(\"accessToken\"),\r\n      } as HeadersInit,\r\n    });\r\n\r\n    if (json.success) {\r\n      return json.user;\r\n    } else {\r\n      return thunkAPI.rejectWithValue(\"\");\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateUser = createAsyncThunk<TUser, TUser, ThunkAPI>(\r\n  \"auth/update-user\",\r\n  async (userInfo, thunkAPI) => {\r\n    const json = await fetchWithRefresh(`${baseUrl}/auth/user`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n        Authorization: localStorage.getItem(\"accessToken\"),\r\n      } as HeadersInit,\r\n      body: JSON.stringify(userInfo),\r\n    });\r\n\r\n    if (json.success) {\r\n      return json.user;\r\n    } else {\r\n      return thunkAPI.rejectWithValue(\"\");\r\n    }\r\n  }\r\n);\r\n\r\nexport const logout = createAsyncThunk<void, void, ThunkAPI>(\r\n  \"auth/logout\",\r\n  async (empty, thunkAPI) => {\r\n    const json = await fetchWithRefresh(`${baseUrl}/auth/logout`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\",\r\n        Authorization: localStorage.getItem(\"accessToken\"),\r\n      } as HeadersInit,\r\n      body: JSON.stringify({\r\n        token: localStorage.getItem(\"refreshToken\"),\r\n      }),\r\n    });\r\n\r\n    if (json.success) {\r\n      return;\r\n    } else {\r\n      return thunkAPI.rejectWithValue(\"\");\r\n    }\r\n  }\r\n);\r\n\r\nexport type TAuthSliceState = {\r\n  accessToken: string | null;\r\n  refreshToken: string | null;\r\n  user: TUser | null;\r\n  isResetPassword: boolean;\r\n  isPasswordWasReset: boolean;\r\n  isLoading: boolean;\r\n  hasError: boolean;\r\n  isShown: boolean;\r\n  isLoggedIn: boolean;\r\n  isFetchedUser: boolean;\r\n  isLoggedOut: boolean;\r\n};\r\n\r\nexport const initialState: TAuthSliceState = {\r\n  accessToken: localStorage.getItem(\"accessToken\"),\r\n  refreshToken: localStorage.getItem(\"refreshToken\"),\r\n  user: null,\r\n  isResetPassword: false,\r\n  isPasswordWasReset: false,\r\n  isLoading: false,\r\n  hasError: false,\r\n  isShown: false,\r\n  isLoggedIn: false,\r\n  isFetchedUser: false,\r\n  isLoggedOut: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    clearPasswordReset: (state) => {\r\n      state.isPasswordWasReset = false;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(login.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n        state.isLoggedIn = false;\r\n        state.user = null;\r\n      })\r\n      .addCase(login.fulfilled, (state, action: PayloadAction<TAuthResult>) => {\r\n        state.isLoading = false;\r\n        state.hasError = false;\r\n        state.user = action.payload.user;\r\n        state.accessToken = action.payload.accessToken;\r\n        state.refreshToken = action.payload.refreshToken;\r\n        state.isLoggedIn = true;\r\n        state.isLoggedOut = false;\r\n      })\r\n      .addCase(login.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n        state.user = null;\r\n        state.isLoggedIn = false;\r\n      })\r\n      .addCase(register.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n        state.user = null;\r\n      })\r\n      .addCase(\r\n        register.fulfilled,\r\n        (state, action: PayloadAction<TAuthResult>) => {\r\n          state.isLoading = false;\r\n          state.hasError = false;\r\n          state.user = action.payload.user;\r\n          state.isLoggedIn = true;\r\n          state.isLoggedOut = false;\r\n          state.accessToken = action.payload.accessToken;\r\n          state.refreshToken = action.payload.refreshToken;\r\n        }\r\n      )\r\n      .addCase(register.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n        state.user = null;\r\n      })\r\n      .addCase(checkResetPassword.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n        state.isResetPassword = false;\r\n      })\r\n      .addCase(checkResetPassword.fulfilled, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = false;\r\n        state.isResetPassword = true;\r\n      })\r\n      .addCase(checkResetPassword.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n        state.isResetPassword = false;\r\n      })\r\n      .addCase(resetPassword.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n        state.isResetPassword = true;\r\n        state.isPasswordWasReset = false;\r\n      })\r\n      .addCase(resetPassword.fulfilled, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = false;\r\n        state.isResetPassword = false;\r\n        state.isPasswordWasReset = true;\r\n      })\r\n      .addCase(resetPassword.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n        state.isResetPassword = true;\r\n        state.isPasswordWasReset = false;\r\n      })\r\n      .addCase(getUser.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n      })\r\n      .addCase(getUser.fulfilled, (state, action: PayloadAction<TUser>) => {\r\n        state.isLoading = false;\r\n        state.hasError = false;\r\n        state.user = action.payload;\r\n      })\r\n      .addCase(getUser.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n      })\r\n      .addCase(updateUser.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n      })\r\n      .addCase(updateUser.fulfilled, (state, action: PayloadAction<TUser>) => {\r\n        state.isLoading = false;\r\n        state.hasError = false;\r\n        state.user = action.payload;\r\n      })\r\n      .addCase(updateUser.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n      })\r\n      .addCase(logout.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n        state.isLoggedOut = false;\r\n      })\r\n      .addCase(logout.fulfilled, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = false;\r\n        state.isLoggedOut = true;\r\n        state.isLoggedIn = false;\r\n        state.accessToken = \"\";\r\n        state.refreshToken = \"\";\r\n        state.user = null;\r\n        localStorage.removeItem(\"accessToken\");\r\n        localStorage.removeItem(\"refreshToken\");\r\n      })\r\n      .addCase(logout.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n        state.isLoggedOut = false;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { clearPasswordReset } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { baseUrl } from \"../utils/constants\";\r\nimport { TIngredient } from \"../utils/types\";\r\n\r\nexport const fetchIngredients = createAsyncThunk<Array<TIngredient>>(\r\n  \"ingredients/fetchAll\",\r\n  async () => {\r\n    const res = await fetch(`${baseUrl}/ingredients`);\r\n    const json = await res.json();\r\n    return json.data as Array<TIngredient>;\r\n  }\r\n);\r\n\r\ntype TIngredientsSliceState = {\r\n  ingredients: Array<TIngredient>;\r\n  ingredientsMap: Map<string, TIngredient>;\r\n  isLoading: boolean;\r\n  hasError: boolean;\r\n  currentTab: string;\r\n};\r\n\r\nexport const initialState: TIngredientsSliceState = {\r\n  ingredients: [],\r\n  ingredientsMap: new Map<string, TIngredient>(),\r\n  isLoading: false,\r\n  hasError: false,\r\n  currentTab: \"bun\",\r\n};\r\n\r\nconst ingredientsSlice = createSlice({\r\n  name: \"ingredients\",\r\n  initialState,\r\n  reducers: {\r\n    switchTab: (state, action: PayloadAction<string>) => {\r\n      state.currentTab = action.payload;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchIngredients.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n        state.ingredients = [];\r\n      })\r\n      .addCase(\r\n        fetchIngredients.fulfilled,\r\n        (state, action: PayloadAction<Array<TIngredient>>) => {\r\n          state.isLoading = false;\r\n          state.hasError = false;\r\n          state.ingredients = action.payload;\r\n          state.ingredients.forEach((item: TIngredient) => {\r\n            state.ingredientsMap.set(item._id, item);\r\n          });\r\n        }\r\n      )\r\n      .addCase(fetchIngredients.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n        state.ingredients = [];\r\n      });\r\n  },\r\n});\r\n\r\nexport const { switchTab } = ingredientsSlice.actions;\r\n\r\nexport default ingredientsSlice.reducer;\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { TDragIngredientParams, TIngredient } from \"../utils/types\";\r\n\r\nexport type TConstructorSliceState = {\r\n  bun: TIngredient | null;\r\n  ingredients: Array<TIngredient>;\r\n};\r\n\r\nexport const initialState: TConstructorSliceState = {\r\n  bun: null,\r\n  ingredients: [],\r\n};\r\n\r\nconst constructorSlice = createSlice({\r\n  name: \"constructor\",\r\n  initialState,\r\n  reducers: {\r\n    setBun: (state, action: PayloadAction<TIngredient>) => {\r\n      state.bun = action.payload;\r\n    },\r\n    addIngredient: (state, action: PayloadAction<TIngredient>) => {\r\n      state.ingredients.push(action.payload);\r\n    },\r\n    removeIngredient: (state, action: PayloadAction<TIngredient>) => {\r\n      state.ingredients = state.ingredients.filter(\r\n        (el: TIngredient) => el.key !== action.payload.key\r\n      );\r\n    },\r\n    moveIngredient: (state, action: PayloadAction<TDragIngredientParams>) => {\r\n      state.ingredients.splice(\r\n        action.payload.toIndex,\r\n        0,\r\n        state.ingredients.splice(action.payload.fromIndex, 1)[0]\r\n      );\r\n    },\r\n    clearConstructor: (state) => {\r\n      state.ingredients = [];\r\n      state.bun = null;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setBun,\r\n  addIngredient,\r\n  removeIngredient,\r\n  moveIngredient,\r\n  clearConstructor,\r\n} = constructorSlice.actions;\r\n\r\nexport default constructorSlice.reducer;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { baseUrl } from \"../utils/constants\";\r\nimport { clearConstructor } from \"./constructorSlice\";\r\nimport { ThunkAPI } from \"./index\";\r\nimport { TCreatedOrder, TOrder } from \"../utils/types\";\r\nimport { fetchWithRefresh } from \"../utils/auth\";\r\n\r\nexport const createOrder = createAsyncThunk<TCreatedOrder, TOrder, ThunkAPI>(\r\n  \"order/postCreate\",\r\n  async (order, thunkAPI) => {\r\n    const json = await fetchWithRefresh(`${baseUrl}/orders`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"accessToken\"),\r\n      } as HeadersInit,\r\n      body: JSON.stringify(order),\r\n    });\r\n\r\n    if (json.success) {\r\n      thunkAPI.dispatch(clearConstructor());\r\n      return { name: json.name, number: json.order.number } as TCreatedOrder;\r\n    } else {\r\n      return thunkAPI.rejectWithValue(\"\");\r\n    }\r\n  }\r\n);\r\n\r\ntype TOrderSliceState = {\r\n  name: string;\r\n  number: number;\r\n  isLoading: boolean;\r\n  hasError: boolean;\r\n  isShown: boolean;\r\n};\r\n\r\nexport const initialState: TOrderSliceState = {\r\n  name: \"\",\r\n  number: 0,\r\n  isLoading: false,\r\n  hasError: false,\r\n  isShown: false,\r\n};\r\n\r\nconst orderSlice = createSlice({\r\n  name: \"order\",\r\n  initialState,\r\n  reducers: {\r\n    showOrderDetails: (state) => {\r\n      state.isShown = true;\r\n    },\r\n    closeOrderDetails: (state) => {\r\n      state.isShown = false;\r\n      state.name = \"\";\r\n      state.number = 0;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(createOrder.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.hasError = false;\r\n        state.name = \"\";\r\n        state.number = 0;\r\n      })\r\n      .addCase(\r\n        createOrder.fulfilled,\r\n        (state, action: PayloadAction<TCreatedOrder>) => {\r\n          state.isLoading = false;\r\n          state.hasError = false;\r\n          state.name = action.payload.name;\r\n          state.number = action.payload.number;\r\n        }\r\n      )\r\n      .addCase(createOrder.rejected, (state) => {\r\n        state.isLoading = false;\r\n        state.hasError = true;\r\n        state.name = \"\";\r\n        state.number = 0;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { showOrderDetails, closeOrderDetails } = orderSlice.actions;\r\n\r\nexport default orderSlice.reducer;\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\nimport { TOrders } from \"../../utils/types\";\r\n\r\nexport const connect = createAction<string, \"ORDERS_CONNECT\">(\"ORDERS_CONNECT\");\r\nexport const disconnect = createAction(\"ORDERS_DISCONNECT\");\r\nexport const wsOpen = createAction(\"ORDERS_WS_OPEN\");\r\nexport const wsClose = createAction(\"ORDERS_WS_CLOSE\");\r\nexport const wsMessage = createAction<TOrders, \"ORDERS_WS_MESSAGE\">(\r\n  \"ORDERS_WS_MESSAGE\"\r\n);\r\nexport const wsError = createAction<string, \"ORDERS_WS_ERROR\">(\r\n  \"ORDERS_WS_ERROR\"\r\n);\r\n","import { TOrderInfo, TOrders } from \"../../utils/types\";\r\nimport { createAsyncThunk, createReducer } from \"@reduxjs/toolkit\";\r\nimport { wsClose, wsError, wsMessage, wsOpen } from \"./actions\";\r\nimport { ThunkAPI } from \"../index\";\r\nimport { baseUrl } from \"../../utils/constants\";\r\n\r\nexport const getOrder = createAsyncThunk<Array<TOrderInfo>, string, ThunkAPI>(\r\n  \"orders/getOrder\",\r\n  async (number, _thunkAPI) => {\r\n    const res = await fetch(`${baseUrl}/orders/${number}`);\r\n    const json = await res.json();\r\n    return json.orders as Array<TOrderInfo>;\r\n  }\r\n);\r\n\r\nexport type TOrdersState = {\r\n  orders: TOrders | null;\r\n  connectionError: string;\r\n};\r\n\r\nexport const initialState: TOrdersState = {\r\n  orders: null,\r\n  connectionError: \"\",\r\n};\r\n\r\nconst ordersReducer = createReducer(initialState, (builder) => {\r\n  builder\r\n    .addCase(wsOpen, (state) => state)\r\n    .addCase(wsClose, (state) => {\r\n      state.orders = null;\r\n      state.connectionError = \"\";\r\n    })\r\n    .addCase(wsError, (state, action) => {\r\n      state.connectionError = action.payload;\r\n    })\r\n    .addCase(wsMessage, (state, action) => {\r\n      state.orders = action.payload;\r\n    })\r\n    .addCase(getOrder.fulfilled, (state, action) => {\r\n      state.orders = { orders: action.payload, total: 1, totalToday: 1 };\r\n    });\r\n});\r\n\r\nexport default ordersReducer;\r\n","import ingredientsReducer from \"./ingredientsSlice\";\r\nimport constructorReducer from \"./constructorSlice\";\r\nimport orderSliceReducer from \"./orderSlice\";\r\nimport authSliceReducer from \"./authSlice\";\r\nimport { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport ordersReducer from \"./orders/reducer\";\r\nimport {\r\n  connect as OrdersWsConnect,\r\n  disconnect as OrdersWsDisconnect,\r\n  wsOpen as OrdersWsOpen,\r\n  wsClose as OrdersWsClose,\r\n  wsMessage as OrdersWsMessage,\r\n  wsError as OrdersWsError,\r\n} from \"./orders/actions\";\r\nimport {\r\n  socketMiddleware,\r\n  TWSActionTypes,\r\n} from \"./middleware/socketMiddleware\";\r\n\r\nconst rootReducer = combineReducers({\r\n  ingredients: ingredientsReducer,\r\n  burgerConstructor: constructorReducer,\r\n  orderDetails: orderSliceReducer,\r\n  auth: authSliceReducer,\r\n  orders: ordersReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nconst wsOrdersActions: TWSActionTypes = {\r\n  wsConnect: OrdersWsConnect,\r\n  wsDisconnect: OrdersWsDisconnect,\r\n  onClose: OrdersWsClose,\r\n  onOpen: OrdersWsOpen,\r\n  onError: OrdersWsError,\r\n  onMessage: OrdersWsMessage,\r\n};\r\n\r\nconst ordersMiddleware = socketMiddleware(wsOrdersActions);\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({ serializableCheck: false }).concat(ordersMiddleware),\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n\r\nexport type ThunkAPI = {\r\n  dispatch: AppDispatch;\r\n};\r\n\r\nexport default store;\r\n","import React, { ChangeEvent, FormEvent, useCallback, useState } from \"react\";\r\nimport styles from \"./forgot-password.module.css\";\r\nimport {\r\n  Button,\r\n  EmailInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\nimport { checkResetPassword } from \"../../services/authSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { IProtectedRouteLocationProps } from \"../../components/protected-route/protected-route\";\r\n\r\ninterface IForgotPasswordState {\r\n  email: string;\r\n}\r\n\r\nconst ForgotPasswordPage: React.FC = () => {\r\n  const { accessToken, isResetPassword } = useAppSelector(\r\n    (state) => state.auth\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { state } = useLocation<IProtectedRouteLocationProps | undefined>();\r\n\r\n  const [form, setValue] = useState<IForgotPasswordState>({ email: \"\" });\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleResetPassword = useCallback(\r\n    (e: FormEvent) => {\r\n      e.preventDefault();\r\n      dispatch(checkResetPassword(form.email));\r\n    },\r\n    [form]\r\n  );\r\n\r\n  if (accessToken) {\r\n    console.log(\"fp rd home\");\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  if (isResetPassword) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/reset-password\",\r\n          state: state ? { from: state.from } : {},\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form className={styles.forgot_password} onSubmit={handleResetPassword}>\r\n      <span className=\"text_type_main-medium\">Восстановление пароля</span>\r\n      <EmailInput onChange={handleChange} value={form.email} name=\"email\" />\r\n      <Button>Восстановить</Button>\r\n      <div className={`${styles.line} mt-9`}>\r\n        <span className=\"text_type_main-default text_color_inactive mr-2\">\r\n          Вспомнили пароль?\r\n        </span>\r\n        <Link\r\n          to={{\r\n            pathname: \"/login\",\r\n            state: state ? { from: state.from } : {},\r\n          }}\r\n          className={styles.link}\r\n        >\r\n          Войти\r\n        </Link>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordPage;\r\n","import React from \"react\";\r\nimport styles from \"./ingredient-item.module.css\";\r\nimport { TIngredient } from \"../../../utils/types\";\r\nimport { Counter } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/counter\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/currency-icon\";\r\nimport { useDrag } from \"react-dnd\";\r\n\r\ninterface IngredientItemProps {\r\n  item: TIngredient;\r\n  showDetails: (item: TIngredient) => void;\r\n  count: number;\r\n}\r\n\r\nconst IngredientItem: React.FC<IngredientItemProps> = ({\r\n  item,\r\n  showDetails,\r\n  count,\r\n}) => {\r\n  const handleClick = () => {\r\n    showDetails(item);\r\n  };\r\n\r\n  const [{ opacity }, ref] = useDrag({\r\n    type: item.type,\r\n    item: item,\r\n    collect: (monitor) => ({\r\n      opacity: monitor.isDragging() ? 0.4 : 1,\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={styles.ingredient_item}\r\n      data-test={item.name}\r\n      ref={ref}\r\n      style={{ opacity: opacity }}\r\n    >\r\n      <div className={styles.content} onClick={handleClick}>\r\n        <img alt=\"Нет фото\" src={item.image} className={styles.illustration} />\r\n        <p className={styles.price}>\r\n          {item.price}\r\n          <CurrencyIcon type=\"primary\" />\r\n        </p>\r\n        <p className={styles.ingredient_item_text}>{item.name}</p>\r\n      </div>\r\n      {count > 0 && <Counter size=\"default\" count={count} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IngredientItem;\r\n","import React, { useMemo } from \"react\";\r\nimport styles from \"./ingredients-group.module.css\";\r\nimport { TIngredient } from \"../../../utils/types\";\r\nimport IngredientItem from \"../ingredient-item/ingredient-item\";\r\nimport { useAppSelector } from \"../../../services\";\r\n\r\ninterface IIngredientsGroupProps {\r\n  name: string;\r\n  showDetails: (item: TIngredient) => void;\r\n  ingredients: Array<TIngredient>;\r\n}\r\n\r\nconst IngredientsGroup: React.FC<IIngredientsGroupProps> = ({\r\n  name,\r\n  showDetails,\r\n  ingredients,\r\n}) => {\r\n  const { bun, ingredients: constructorIngredients } = useAppSelector(\r\n    (state) => state.burgerConstructor\r\n  );\r\n\r\n  const statistics = useMemo(() => {\r\n    let res = new Map<string, number>();\r\n\r\n    if (ingredients.length === 0) {\r\n      return res;\r\n    }\r\n\r\n    const groupType = ingredients[0].type;\r\n\r\n    if (groupType === \"bun\") {\r\n      ingredients.map((el) =>\r\n        res.set(el._id, bun && bun._id === el._id ? 2 : 0)\r\n      );\r\n      return res;\r\n    }\r\n\r\n    const items = constructorIngredients.filter((el) => el.type === groupType);\r\n\r\n    return items.reduce(\r\n      (acc: Map<string, number>, e) =>\r\n        acc.set(e._id, (acc.get(e._id) || 0) + 1),\r\n      res\r\n    );\r\n  }, [ingredients, constructorIngredients, bun]);\r\n\r\n  return (\r\n    <>\r\n      <p className=\"text text_type_main-medium mb-6\">{name}</p>\r\n      <div data-test={name} className={styles.content}>\r\n        {ingredients.map((item) => (\r\n          <IngredientItem\r\n            key={item._id}\r\n            item={item}\r\n            count={statistics.get(item._id) || 0}\r\n            showDetails={showDetails}\r\n          />\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngredientsGroup;\r\n","import React, { useCallback, useRef } from \"react\";\r\nimport styles from \"./burger-ingredients.module.css\";\r\nimport \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/box.css\";\r\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/tab\";\r\nimport IngredientsGroup from \"./ingredients-group/ingredients-group\";\r\nimport { switchTab } from \"../../services/ingredientsSlice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { IModalLocationState, TIngredient } from \"../../utils/types\";\r\n\r\nconst BurgerIngredients: React.FC = () => {\r\n  const bunsRef = useRef<HTMLLIElement>(null);\r\n  const saucesRef = useRef<HTMLLIElement>(null);\r\n  const mainsRef = useRef<HTMLLIElement>(null);\r\n  const tabsRef = useRef<HTMLDivElement>(null);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const history = useHistory<IModalLocationState>();\r\n\r\n  const { ingredients, currentTab } = useAppSelector(\r\n    (state) => state.ingredients\r\n  );\r\n\r\n  const selectGroup = (name: string) => {\r\n    dispatch(switchTab(name));\r\n\r\n    switch (name) {\r\n      case \"bun\":\r\n        bunsRef.current?.scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"start\",\r\n          inline: \"nearest\",\r\n        });\r\n        break;\r\n      case \"sauce\":\r\n        saucesRef.current?.scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"start\",\r\n          inline: \"nearest\",\r\n        });\r\n        break;\r\n      case \"main\":\r\n        mainsRef.current?.scrollIntoView({\r\n          behavior: \"smooth\",\r\n          block: \"start\",\r\n          inline: \"nearest\",\r\n        });\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleScrollGroups = () => {\r\n    const tabsBottom = tabsRef.current?.getBoundingClientRect().bottom;\r\n    const bunsTop = bunsRef.current?.getBoundingClientRect().top;\r\n    const saucesTop = saucesRef.current?.getBoundingClientRect().top;\r\n    const mainsTop = mainsRef.current?.getBoundingClientRect().top;\r\n\r\n    if (!tabsBottom || !bunsTop || !saucesTop || !mainsTop) {\r\n      return;\r\n    }\r\n\r\n    const bunsDelta = Math.abs(bunsTop - tabsBottom);\r\n    const saucesDelta = Math.abs(saucesTop - tabsBottom);\r\n    const mainsDelta = Math.abs(mainsTop - tabsBottom);\r\n\r\n    const min = Math.min(bunsDelta, saucesDelta, mainsDelta);\r\n\r\n    const newTab =\r\n      min === bunsDelta ? \"bun\" : min === saucesDelta ? \"sauce\" : \"main\";\r\n\r\n    if (newTab !== currentTab) {\r\n      dispatch(switchTab(newTab));\r\n    }\r\n  };\r\n\r\n  const showIngredientDetails = useCallback((item: TIngredient) => {\r\n    history.push({\r\n      pathname: `/ingredients/${item._id}`,\r\n      state: { modal: true },\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`${styles.burger_ingredients} pt-10`}>\r\n      <p data-test=\"ingredients_catalog_title\" className={styles.title}>\r\n        Соберите бургер\r\n      </p>\r\n      <div className={styles.tabs} ref={tabsRef}>\r\n        <Tab value=\"bun\" active={currentTab === \"bun\"} onClick={selectGroup}>\r\n          Булки\r\n        </Tab>\r\n        <Tab\r\n          value=\"sauce\"\r\n          active={currentTab === \"sauce\"}\r\n          onClick={selectGroup}\r\n        >\r\n          Соусы\r\n        </Tab>\r\n        <Tab value=\"main\" active={currentTab === \"main\"} onClick={selectGroup}>\r\n          Начинки\r\n        </Tab>\r\n      </div>\r\n      <div className={styles.ingredients}>\r\n        <ul\r\n          className={`${styles.group_list} custom-scroll`}\r\n          onScroll={handleScrollGroups}\r\n        >\r\n          <li ref={bunsRef}>\r\n            <IngredientsGroup\r\n              name=\"Булки\"\r\n              ingredients={ingredients.filter((item) => item.type === \"bun\")}\r\n              showDetails={showIngredientDetails}\r\n            />\r\n          </li>\r\n          <li ref={saucesRef}>\r\n            <IngredientsGroup\r\n              name=\"Соусы\"\r\n              ingredients={ingredients.filter((item) => item.type === \"sauce\")}\r\n              showDetails={showIngredientDetails}\r\n            />\r\n          </li>\r\n          <li ref={mainsRef}>\r\n            <IngredientsGroup\r\n              name=\"Начинка\"\r\n              ingredients={ingredients.filter((item) => item.type === \"main\")}\r\n              showDetails={showIngredientDetails}\r\n            />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BurgerIngredients;\r\n","import React, { ReactNode } from \"react\";\r\nimport styles from \"./modal-overlay.module.css\";\r\n\r\ninterface IModalOverlayProps {\r\n  onClose: () => void;\r\n  children: ReactNode;\r\n}\r\n\r\nconst ModalOverlay: React.FC<IModalOverlayProps> = ({ onClose, children }) => {\r\n  const handleOverlay = (e: React.MouseEvent) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onClick={handleOverlay} className={styles.overlay}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalOverlay;\r\n","import React, { ReactNode, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport ModalOverlay from \"./modal-overlay/modal-overlay\";\r\nimport styles from \"./modal.module.css\";\r\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\n\r\nconst modalRoot = document.getElementById(\"react-modals\");\r\n\r\ninterface IModalProps {\r\n  title?: string;\r\n  onClose: () => void;\r\n  children: ReactNode;\r\n}\r\n\r\nconst Modal: React.FC<IModalProps> = ({ title, onClose, children }) => {\r\n  useEffect(() => {\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.code === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscape);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscape);\r\n    };\r\n  }, []);\r\n\r\n  return ReactDOM.createPortal(\r\n    <ModalOverlay onClose={onClose}>\r\n      <div className={styles.modal}>\r\n        <div\r\n          data-test=\"header\"\r\n          className={\r\n            title ? styles.header_with_title : styles.header_without_title\r\n          }\r\n        >\r\n          {title && (\r\n            <p data-test=\"header_title\" className=\"text text_type_main-large\">\r\n              {title}\r\n            </p>\r\n          )}\r\n          <CloseIcon onClick={onClose} type=\"primary\" />\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </ModalOverlay>,\r\n    modalRoot!\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/done.b600a79b.png\";","import React, { useEffect } from \"react\";\r\nimport styles from \"./order-details.module.css\";\r\nimport done from \"../../../images/done.png\";\r\n\r\nimport { createOrder } from \"../../../services/orderSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../../services\";\r\nimport { TIngredient } from \"../../../utils/types\";\r\n\r\nconst OrderDetails: React.FC = () => {\r\n  const { bun, ingredients: constructorIngredients } = useAppSelector(\r\n    (state) => state.burgerConstructor\r\n  );\r\n\r\n  const { name, number, isLoading, hasError } = useAppSelector(\r\n    (state) => state.orderDetails\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    let ingredients = constructorIngredients.map((el: TIngredient) => el._id);\r\n    let order = { ingredients: [bun!._id, ...ingredients, bun!._id] };\r\n\r\n    dispatch(createOrder(order));\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.order_details}>\r\n      {isLoading && (\r\n        <p className=\"text text_type_main-medium\">Создание заказа...</p>\r\n      )}\r\n      {hasError && (\r\n        <p className=\"text text_type_main-medium\">Не удалось создать заказ</p>\r\n      )}\r\n      {!isLoading && !hasError && (\r\n        <>\r\n          <p\r\n            data-test=\"order_number\"\r\n            className=\"text text_type_digits-large mb-8\"\r\n            style={{ textShadow: \"0px 4px 32px #3333FF\" }}\r\n          >\r\n            {number}\r\n          </p>\r\n          <p data-test=\"order_name\" className=\"text_type_main-medium mb-15\">\r\n            {name}\r\n          </p>\r\n          <img className={styles.image} alt=\"Принят\" src={done} />\r\n          <p className=\"text_type_main-default mb-2\">\r\n            Ваш заказ начали готовить\r\n          </p>\r\n          <p className=\"text_type_main-default text_color_inactive\">\r\n            Дождитесь готовности на орбитальной станции\r\n          </p>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderDetails;\r\n","import styles from \"./burger-constructor.module.css\";\r\nimport { DragIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/drag-icon\";\r\nimport { ConstructorElement } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { TIngredient } from \"../../utils/types\";\r\nimport React, { useRef } from \"react\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\n\r\ninterface IConstructorItem {\r\n  item: TIngredient;\r\n  type?: \"top\" | \"bottom\";\r\n  onRemove?: (item: TIngredient) => void;\r\n  index?: number;\r\n  moveItem?: (fromIndex: number, toIndex: number) => void;\r\n}\r\n\r\nconst ConstructorItem: React.FC<IConstructorItem> = ({\r\n  item,\r\n  type,\r\n  index,\r\n  onRemove,\r\n  moveItem,\r\n}) => {\r\n  const isLocked = type !== undefined;\r\n\r\n  let suffix = \"\";\r\n  if (type === \"top\") {\r\n    suffix = \" (верх)\";\r\n  } else if (type === \"bottom\") {\r\n    suffix = \" (низ)\";\r\n  }\r\n\r\n  const text = item.name + suffix;\r\n\r\n  const onClose = () => {\r\n    if (onRemove) {\r\n      onRemove(item);\r\n    }\r\n  };\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  const [{ opacity }, drag] = useDrag({\r\n    type: item.type,\r\n    item: { ...item, index: index ? index : -1 },\r\n    collect: (monitor) => ({\r\n      opacity: monitor.isDragging() ? 0.4 : 1,\r\n    }),\r\n  });\r\n\r\n  const [{ handlerId }, drop] = useDrop({\r\n    accept: [\"sauce\", \"main\"],\r\n    collect: (monitor) => ({\r\n      handlerId: monitor.getHandlerId(),\r\n    }),\r\n    canDrop: (_item: TIngredient) => {\r\n      return type === undefined;\r\n    },\r\n    hover: (item: TIngredient, monitor) => {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n\r\n      if (item.index === undefined) {\r\n        return;\r\n      }\r\n\r\n      if (!moveItem) {\r\n        return;\r\n      }\r\n\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index!; // ref for buns not assigned\r\n\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n      }\r\n\r\n      const hoverBoundingRect = ref.current!.getBoundingClientRect();\r\n      const hoverMiddleY =\r\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n      const clientOffset = monitor.getClientOffset()!;\r\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n      }\r\n\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return;\r\n      }\r\n\r\n      moveItem(dragIndex, hoverIndex);\r\n\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n\r\n  if (type === undefined) {\r\n    drag(drop(ref));\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={styles.constructor_item}\r\n      {...(type === undefined && {\r\n        ref: ref,\r\n        style: { opacity: opacity },\r\n        \"data-handler-id\": handlerId,\r\n      })}\r\n    >\r\n      <div style={{ visibility: isLocked ? \"hidden\" : \"visible\" }}>\r\n        <DragIcon type=\"primary\" />\r\n      </div>\r\n      <ConstructorElement\r\n        type={type}\r\n        isLocked={isLocked}\r\n        text={text}\r\n        price={item.price}\r\n        thumbnail={item.image}\r\n        handleClose={!isLocked ? onClose : undefined}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConstructorItem;\r\n","import styles from \"./placeholder-item.module.css\";\r\n\r\ninterface IPlaceholderItemProps {\r\n  type?: \"top\" | \"bottom\";\r\n  highlighted: boolean;\r\n}\r\n\r\nconst PlaceholderItem: React.FC<IPlaceholderItemProps> = ({\r\n  type,\r\n  highlighted,\r\n}) => {\r\n  let className = `${styles.placeholder_item}`;\r\n\r\n  if (type === \"top\") {\r\n    className += ` ${styles.placeholder_item_top}`;\r\n  } else if (type === \"bottom\") {\r\n    className += ` ${styles.placeholder_item_bottom}`;\r\n  }\r\n\r\n  if (highlighted) {\r\n    className += ` ${styles.placeholder_item_highlighted}`;\r\n  }\r\n\r\n  const text =\r\n    type === \"top\" || type === \"bottom\" ? \"Выберите булки\" : \"Выберите начинку\";\r\n\r\n  return (\r\n    <div className={className}>\r\n      <span>{text}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaceholderItem;\r\n","import styles from \"./burger-constructor.module.css\";\r\nimport ConstructorItem from \"./constructor-item\";\r\nimport PlaceholderItem from \"./placeholder-item/placeholder-item\";\r\nimport React, { useCallback } from \"react\";\r\nimport {\r\n  removeIngredient,\r\n  setBun,\r\n  addIngredient,\r\n  moveIngredient,\r\n} from \"../../services/constructorSlice\";\r\nimport { useDrop } from \"react-dnd\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { TIngredient } from \"../../utils/types\";\r\n\r\nconst ConstructorArea: React.FC = () => {\r\n  const { bun, ingredients: constructorIngredients } = useAppSelector(\r\n    (state) => state.burgerConstructor\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [{ isBunOver, isIngredientOver }, dropTarget] = useDrop({\r\n    accept: [\"bun\", \"sauce\", \"main\"],\r\n    canDrop: (item: TIngredient) => {\r\n      return item.index === undefined;\r\n    },\r\n    drop: (item: TIngredient) => {\r\n      if (item.type === \"bun\") {\r\n        dispatch(setBun(item));\r\n      } else {\r\n        dispatch(addIngredient({ ...item, key: uuid() }));\r\n      }\r\n    },\r\n    collect: (monitor) => ({\r\n      isBunOver: monitor.isOver() && monitor.getItemType() === \"bun\",\r\n      isIngredientOver: monitor.isOver() && monitor.getItemType() !== \"bun\",\r\n    }),\r\n  });\r\n\r\n  const removeItem = (item: TIngredient) => {\r\n    dispatch(removeIngredient(item));\r\n  };\r\n\r\n  const moveItem = useCallback(\r\n    (dragIndex: number, hoverIndex: number) => {\r\n      dispatch(moveIngredient({ fromIndex: dragIndex, toIndex: hoverIndex }));\r\n    },\r\n    [constructorIngredients]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      data-test=\"constructor_area\"\r\n      className={styles.constructor_area}\r\n      ref={dropTarget}\r\n    >\r\n      <div data-test=\"top_bun\" className=\"pr-4\">\r\n        {bun ? (\r\n          <ConstructorItem type=\"top\" item={bun} />\r\n        ) : (\r\n          <PlaceholderItem type=\"top\" highlighted={isBunOver} />\r\n        )}\r\n      </div>\r\n\r\n      <div className={styles.ingredients}>\r\n        <div\r\n          data-test=\"constructor_ingredients\"\r\n          className={`${styles.scroll_area} custom-scroll`}\r\n        >\r\n          {constructorIngredients.length ? (\r\n            constructorIngredients.map((item, index: number) => (\r\n              <ConstructorItem\r\n                key={item.key}\r\n                item={item}\r\n                index={index}\r\n                onRemove={removeItem}\r\n                moveItem={moveItem}\r\n              />\r\n            ))\r\n          ) : (\r\n            <PlaceholderItem highlighted={isIngredientOver} />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div data-test=\"bottom_bun\" className=\"pr-4\">\r\n        {bun ? (\r\n          <ConstructorItem type=\"bottom\" item={bun} />\r\n        ) : (\r\n          <PlaceholderItem type=\"bottom\" highlighted={isBunOver} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConstructorArea;\r\n","import React, { useMemo } from \"react\";\r\nimport styles from \"./burger-constructor.module.css\";\r\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/currency-icon\";\r\nimport Modal from \"../modal/modal\";\r\nimport OrderDetails from \"./order-details/order-details\";\r\n\r\nimport { showOrderDetails, closeOrderDetails } from \"../../services/orderSlice\";\r\nimport ConstructorArea from \"./constructor-area\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\n\r\nconst BurgerConstructor: React.FC = () => {\r\n  const { bun, ingredients: constructorIngredients } = useAppSelector(\r\n    (state) => state.burgerConstructor\r\n  );\r\n\r\n  const { isShown } = useAppSelector((state) => state.orderDetails);\r\n\r\n  const { accessToken } = useAppSelector((state) => state.auth);\r\n\r\n  const history = useHistory();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const totalPrice = useMemo(() => {\r\n    let totalPrice = constructorIngredients.reduce(\r\n      (acc: number, item) => item.price + acc,\r\n      0\r\n    );\r\n\r\n    if (bun !== null) {\r\n      totalPrice += bun.price * 2;\r\n    }\r\n\r\n    return totalPrice;\r\n  }, [bun, constructorIngredients]);\r\n\r\n  const createOrder = () => {\r\n    if (bun === null) {\r\n      console.log(\"Unable to create order without buns\");\r\n      return;\r\n    }\r\n\r\n    if (!accessToken) {\r\n      history.push({ pathname: \"/login\", state: { from: \"/\" } });\r\n      return;\r\n    }\r\n\r\n    dispatch(showOrderDetails());\r\n  };\r\n\r\n  const closeOrder = () => {\r\n    dispatch(closeOrderDetails());\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.burger_constructor} pt-25 pl-4 pr-4`}>\r\n      <ConstructorArea />\r\n      <div className={styles.info}>\r\n        <p className={styles.price}>\r\n          {totalPrice}\r\n          <CurrencyIcon type=\"primary\" />\r\n        </p>\r\n        <Button\r\n          data-test=\"create_order\"\r\n          type=\"primary\"\r\n          onClick={createOrder}\r\n          size=\"large\"\r\n        >\r\n          Оформить заказ\r\n        </Button>\r\n      </div>\r\n      {isShown && (\r\n        <Modal onClose={closeOrder}>\r\n          <OrderDetails />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BurgerConstructor;\r\n","import React from \"react\";\r\nimport styles from \"./home.module.css\";\r\n\r\nimport BurgerIngredients from \"../../components/burger-ingredients/burger-ingredients\";\r\nimport BurgerConstructor from \"../../components/burger-constructor/burger-constructor\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { DndProvider } from \"react-dnd\";\r\n\r\nconst HomePage: React.FC = () => {\r\n  return (\r\n    <div className={styles.home}>\r\n      <DndProvider backend={HTML5Backend}>\r\n        <BurgerIngredients />\r\n        <BurgerConstructor />\r\n      </DndProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React, {\r\n  ChangeEvent,\r\n  FormEvent,\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n} from \"react\";\r\nimport styles from \"./login.module.css\";\r\nimport {\r\n  Button,\r\n  EmailInput,\r\n  PasswordInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\nimport { clearPasswordReset, login } from \"../../services/authSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { TCredentials } from \"../../utils/types\";\r\nimport { IProtectedRouteLocationProps } from \"../../components/protected-route/protected-route\";\r\n\r\nconst LoginPage: React.FC = () => {\r\n  const { accessToken, isLoggedIn, isPasswordWasReset } = useAppSelector(\r\n    (state) => state.auth\r\n  );\r\n\r\n  const { state } = useLocation<IProtectedRouteLocationProps | undefined>();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const [form, setValue] = useState<TCredentials>({ email: \"\", password: \"\" });\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isPasswordWasReset) {\r\n      dispatch(clearPasswordReset());\r\n    }\r\n  }, [isPasswordWasReset]);\r\n\r\n  const handleLogin = useCallback(\r\n    (e: FormEvent) => {\r\n      e.preventDefault();\r\n      dispatch(login(form));\r\n    },\r\n    [form]\r\n  );\r\n\r\n  if (isLoggedIn) {\r\n    return <Redirect to={{ pathname: state?.from?.pathname || \"/\" }} />;\r\n  }\r\n\r\n  if (accessToken) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <form className={styles.login} onSubmit={handleLogin}>\r\n      <span className=\"text_type_main-medium\">Вход</span>\r\n      <EmailInput onChange={handleChange} value={form.email} name=\"email\" />\r\n      <PasswordInput\r\n        onChange={handleChange}\r\n        value={form.password}\r\n        name=\"password\"\r\n      />\r\n      <Button>Войти</Button>\r\n      <div className={`${styles.line} mt-9`}>\r\n        <span className=\"text_type_main-default text_color_inactive mr-2\">\r\n          Вы - новый пользователь?\r\n        </span>\r\n\r\n        <Link\r\n          to={{\r\n            pathname: \"/register\",\r\n            state: state ? { from: state.from } : {},\r\n          }}\r\n          className={styles.link}\r\n        >\r\n          Зарегистрироваться\r\n        </Link>\r\n      </div>\r\n      <div className={styles.line}>\r\n        <span className=\"text_type_main-default text_color_inactive mr-2\">\r\n          Забыли пароль?\r\n        </span>\r\n        <Link\r\n          to={{\r\n            pathname: \"/forgot-password\",\r\n            state: state ? { from: state.from } : {},\r\n          }}\r\n          className={styles.link}\r\n        >\r\n          Восстановить пароль\r\n        </Link>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","export default __webpack_public_path__ + \"static/media/404.b8926cac.png\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./not-found.module.css\";\r\nimport not_found from \"../../images/404.png\";\r\n\r\nconst NotFound404: React.FC = () => {\r\n  return (\r\n    <div className={styles.not_found}>\r\n      <img alt=\"404 Not Found\" src={not_found} height=\"300px\" />\r\n      <span className=\"text_type_main-default\">Страница не найдена</span>\r\n      <Link className={styles.link} to=\"/\">\r\n        Вернуться на главную\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound404;\r\n","import React from \"react\";\r\nimport styles from \"./ingredients-illustrations.module.css\";\r\n\r\ninterface IIngredientsIllustrationsProps {\r\n  images: Array<string>;\r\n}\r\n\r\nconst IngredientsIllustrations: React.FC<IIngredientsIllustrationsProps> = (\r\n  props\r\n) => {\r\n  const images = props.images.reverse();\r\n\r\n  const num = images.length > 5 ? 6 : images.length;\r\n\r\n  return (\r\n    <div className={styles.illustrations}>\r\n      {images.slice(0, num).map((image, i) => (\r\n        <div\r\n          className={styles.illustration}\r\n          style={{ left: `${-20 + 45 * (num - i - 1)}px` }}\r\n          key={i}\r\n        >\r\n          <div className={styles.border} />\r\n          <img alt=\"Нет фото\" src={image} className={styles.image} />\r\n          {i === 0 && images.length > 6 && (\r\n            <div className={`${styles.number} text_type_main-default`}>{`+${\r\n              images.length - 6\r\n            }`}</div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IngredientsIllustrations;\r\n","export const statusInfo = (status: string) => {\r\n  switch (status) {\r\n    case \"done\":\r\n      return \"Готов\";\r\n    case \"created\":\r\n      return \"Создан\";\r\n    case \"pending\":\r\n      return \"Готовится\";\r\n    default:\r\n      return status;\r\n  }\r\n};\r\n\r\nexport const convertDate = (date: string) => {\r\n  const dateTime = new Date(date);\r\n  let options: Intl.DateTimeFormatOptions = {\r\n    weekday: \"long\",\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n    timeZoneName: \"short\",\r\n    hour12: false,\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  };\r\n  return dateTime.toLocaleString(\"ru\", options);\r\n};\r\n","import React from \"react\";\r\nimport styles from \"./order-card.module.css\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/currency-icon\";\r\nimport { useAppSelector } from \"../../services\";\r\nimport IngredientsIllustrations from \"./ingredients-illustrations/ingredients-illustrations\";\r\nimport { TOrderInfo } from \"../../utils/types\";\r\nimport { convertDate, statusInfo } from \"../../utils/utils\";\r\n\r\ninterface IOrderCard {\r\n  order: TOrderInfo;\r\n  my: boolean;\r\n  showInfo: (item: number) => void;\r\n}\r\n\r\nconst OrderCard: React.FC<IOrderCard> = ({ order, my, showInfo }) => {\r\n  const { ingredientsMap } = useAppSelector((state) => state.ingredients);\r\n\r\n  const images = order.ingredients.map((id) => {\r\n    const ingredient = ingredientsMap.get(id);\r\n    return ingredient ? ingredient.image_mobile : \"\";\r\n  });\r\n\r\n  if (images.includes(\"\")) {\r\n    return null;\r\n  }\r\n\r\n  const price = order.ingredients\r\n    .map((id) => ingredientsMap.get(id)!.price)\r\n    .reduce((a, b) => a + b);\r\n\r\n  const statusClassName =\r\n    order.status === \"done\" ? styles.status_success : styles.status;\r\n\r\n  return (\r\n    <div className={styles.card} onClick={() => showInfo(order.number)}>\r\n      <div className={styles.id_info}>\r\n        <span className=\"text_type_digits-default\">{`#${order.number}`}</span>\r\n        <span className=\"text_type_main-default text_color_inactive\">\r\n          {convertDate(order.createdAt)}\r\n        </span>\r\n      </div>\r\n      <span className={styles.name}>{order.name}</span>\r\n      {my && <p className={statusClassName}>{statusInfo(order.status)}</p>}\r\n      <div className={styles.composition_and_price}>\r\n        <IngredientsIllustrations images={images} />\r\n        <p className={styles.price}>\r\n          {price}\r\n          <CurrencyIcon type=\"primary\" />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderCard;\r\n","import React, { useCallback, useEffect } from \"react\";\r\nimport styles from \"./orders.module.css\";\r\nimport OrderCard from \"../order-card/order-card\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { connect, disconnect } from \"../../services/orders/actions\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { TOrderInfo } from \"../../utils/types\";\r\n\r\nconst MY_ORDERS_URL = \"wss:/norma.nomoreparties.space/orders\";\r\n\r\nconst Orders: React.FC = () => {\r\n  const { orders } = useAppSelector((state) => state.orders);\r\n\r\n  const history = useHistory();\r\n\r\n  const { url } = useRouteMatch();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const match = useRouteMatch({\r\n    path: \"/profile/orders\",\r\n    strict: true,\r\n    sensitive: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (match) {\r\n      const rawToken = localStorage.getItem(\"accessToken\");\r\n      const token = rawToken!.split(\" \")[1];\r\n      dispatch(connect(`${MY_ORDERS_URL}?token=${token}`));\r\n    }\r\n\r\n    return () => {\r\n      if (match) {\r\n        dispatch(disconnect());\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const showOrderInfo = useCallback((number: number) => {\r\n    history.push({\r\n      pathname: `${url}/${number}`,\r\n      state: { modal: true },\r\n    });\r\n  }, []);\r\n\r\n  if (!orders) {\r\n    return (\r\n      <div className={styles.feed}>\r\n        <p className=\"text_type_main-default\">Загрузка...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (\r\n    orders.orders === null ||\r\n    orders.orders === undefined ||\r\n    orders.orders.length === 0\r\n  ) {\r\n    return (\r\n      <div className={styles.feed}>\r\n        <p className=\"text_type_main-default\">Заказов пока нет</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const checkOrder = (order: TOrderInfo): boolean => {\r\n    return (\r\n      order !== undefined &&\r\n      order != null &&\r\n      Object.keys(order).length > 0 &&\r\n      order.ingredients !== null &&\r\n      order.ingredients !== undefined &&\r\n      order.ingredients.length > 0\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={styles.feed}>\r\n      <ul className={`${styles.list} custom-scroll`}>\r\n        {orders.orders.map((order) =>\r\n          checkOrder(order) ? (\r\n            <li key={order.number}>\r\n              <OrderCard\r\n                order={order}\r\n                my={match !== null}\r\n                showInfo={showOrderInfo}\r\n              />\r\n            </li>\r\n          ) : (\r\n            \"\"\r\n          )\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import React from \"react\";\r\nimport styles from \"./order-summary.module.css\";\r\nimport { TOrders } from \"../../utils/types\";\r\n\r\ninterface IOrderStatusWallProps {\r\n  numbers: Array<number>;\r\n  isDone: boolean;\r\n}\r\n\r\nconst OrderStatusWall: React.FC<IOrderStatusWallProps> = ({\r\n  numbers,\r\n  isDone,\r\n}) => {\r\n  const cols = Math.floor(numbers.length / 10) + 1;\r\n  const array = Array.from(Array(cols).keys());\r\n  const chunks = numbers.reduce((all: string[][], one, i) => {\r\n    const ch = Math.floor(i / 10);\r\n    const s: string[] = [];\r\n    all[ch] = s.concat(all[ch] || [], `${one}`);\r\n    return all;\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.status}>\r\n      <span className=\"text_type_main-medium pb-6\">\r\n        {isDone ? \"Готовы:\" : \"В работе:\"}\r\n      </span>\r\n      <div className={isDone ? styles.columns_success : styles.columns}>\r\n        {numbers.length > 0 &&\r\n          array.map((i) => (\r\n            <div key={i} className={styles.column}>\r\n              {chunks[i]?.map((v) => (\r\n                <span key={v} className=\"text_type_digits-default\">\r\n                  {v}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IOrdersSummaryProps {\r\n  orders: TOrders;\r\n}\r\n\r\nconst OrdersSummary: React.FC<IOrdersSummaryProps> = ({ orders }) => {\r\n  const doneOrders = orders.orders\r\n    .filter((order) => order.status === \"done\")\r\n    .map((order) => order.number);\r\n  const otherOrders = orders.orders\r\n    .filter((order) => order.status !== \"done\")\r\n    .map((order) => order.number);\r\n\r\n  return (\r\n    <div className={styles.orders_summary}>\r\n      <div className={styles.statuses}>\r\n        <OrderStatusWall numbers={doneOrders} isDone={true} />\r\n        <OrderStatusWall numbers={otherOrders} isDone={false} />\r\n      </div>\r\n      <div className={styles.count}>\r\n        <span className=\"text_type_main-medium\">Выполнено за все время:</span>\r\n        <span className=\"text_type_digits-large\">{orders.total}</span>\r\n      </div>\r\n      <div className={styles.count}>\r\n        <span className=\"text_type_main-medium\">Выполнено за сегодня:</span>\r\n        <span className=\"text_type_digits-large\">{orders.totalToday}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersSummary;\r\n","import React, { useEffect } from \"react\";\r\nimport styles from \"./order-feed.module.css\";\r\nimport Orders from \"../../components/orders/orders\";\r\nimport OrdersSummary from \"../../components/orders-summary/orders-summary\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { connect, disconnect } from \"../../services/orders/actions\";\r\n\r\nconst ALL_ORDERS_URL = \"wss:/norma.nomoreparties.space/orders/all\";\r\n\r\nconst OrderFeedPage: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { orders } = useAppSelector((state) => state.orders);\r\n\r\n  useEffect(() => {\r\n    dispatch(connect(ALL_ORDERS_URL));\r\n    return () => {\r\n      dispatch(disconnect());\r\n    };\r\n  }, []);\r\n\r\n  if (orders === null) {\r\n    return (\r\n      <div className={styles.order_feed}>\r\n        <p className=\"text_type_main-default\">Загрузка...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (\r\n    orders.orders === null ||\r\n    orders.orders === undefined ||\r\n    orders.orders.length === 0\r\n  ) {\r\n    return (\r\n      <div className={styles.order_feed}>\r\n        <p className=\"text_type_main-default\">Заказов пока нет</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.order_feed}>\r\n      <div className={styles.orders}>\r\n        <p className={styles.title}>Лента заказов</p>\r\n        <Orders />\r\n      </div>\r\n      <div className={styles.summary}>\r\n        <OrdersSummary orders={orders} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderFeedPage;\r\n","import React, { FormEvent, useEffect, useState } from \"react\";\r\nimport styles from \"./profile.module.css\";\r\nimport {\r\n  Button,\r\n  EmailInput,\r\n  Input,\r\n  PasswordInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { getUser, updateUser } from \"../../services/authSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { TUser } from \"../../utils/types\";\r\n\r\nconst Profile = () => {\r\n  const { user } = useAppSelector((state) => state.auth);\r\n\r\n  const [form, setValue] = useState<TUser>({\r\n    name: user ? user.name : \"\",\r\n    email: user ? user.email : \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { url } = useRouteMatch();\r\n  const history = useHistory();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSave = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    dispatch(updateUser(form));\r\n    setValue({ ...form, password: \"\" });\r\n  };\r\n\r\n  const handleReset = () => {\r\n    history.push(\"/\");\r\n    setTimeout(() => history.push(`${url}`), 10);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getUser());\r\n  }, [user?.name, user?.email]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setValue({ ...form, name: user.name, email: user.email });\r\n    }\r\n  }, [user?.name, user?.email]);\r\n\r\n  return (\r\n    <form className={styles.profile} onSubmit={handleSave}>\r\n      <Input\r\n        type=\"text\"\r\n        onChange={handleChange}\r\n        value={form.name}\r\n        placeholder={\"Имя\"}\r\n        name=\"name\"\r\n      />\r\n      <EmailInput onChange={handleChange} value={form.email} name=\"email\" />\r\n      <PasswordInput\r\n        onChange={handleChange}\r\n        value={form.password || \"\"}\r\n        name=\"password\"\r\n      />\r\n      <div className={styles.actions}>\r\n        <span className={styles.link} onClick={handleReset}>\r\n          Отменить\r\n        </span>\r\n        <Button>Сохранить</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { ReactNode } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useAppSelector } from \"../../services\";\r\nimport History from \"history\";\r\n\r\ninterface IProtectedRouteProps {\r\n  children: ReactNode;\r\n  path: string;\r\n  exact?: boolean;\r\n}\r\n\r\nexport interface IProtectedRouteLocationProps {\r\n  from: History.Location;\r\n}\r\n\r\nconst ProtectedRoute: React.FC<IProtectedRouteProps> = ({\r\n  children,\r\n  ...rest\r\n}) => {\r\n  const { accessToken } = useAppSelector((state) => state.auth);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        accessToken ? (\r\n          children\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import styles from \"./profile.module.css\";\r\nimport { NavLink, Redirect, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport Profile from \"../../components/profile/profile\";\r\nimport ProtectedRoute from \"../../components/protected-route/protected-route\";\r\nimport { logout } from \"../../services/authSlice\";\r\nimport Orders from \"../../components/orders/orders\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport React from \"react\";\r\n\r\nconst ProfilePage = () => {\r\n  const { url } = useRouteMatch();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { isLoggedOut } = useAppSelector((state) => state.auth);\r\n\r\n  const handleLogout = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  if (isLoggedOut) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.profile}>\r\n      <div className={styles.left}>\r\n        <ul className={styles.menu}>\r\n          <NavLink\r\n            to={url}\r\n            exact\r\n            className={styles.menu_item}\r\n            activeClassName={styles.active_menu_item}\r\n          >\r\n            <span>Профиль</span>\r\n          </NavLink>\r\n          <NavLink\r\n            to={`${url}/orders`}\r\n            exact\r\n            className={styles.menu_item}\r\n            activeClassName={styles.active_menu_item}\r\n          >\r\n            <span>История заказов</span>\r\n          </NavLink>\r\n          <div\r\n            className={styles.menu_item}\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={handleLogout}\r\n          >\r\n            <span>Выход</span>\r\n          </div>\r\n        </ul>\r\n        <p className=\"text_type_main-default text_color_inactive\">\r\n          В этом разделе вы можете изменить свои персональные данные\r\n        </p>\r\n      </div>\r\n      <div className={styles.right}>\r\n        <Switch>\r\n          <ProtectedRoute path={url} exact={true}>\r\n            <Profile />\r\n          </ProtectedRoute>\r\n          <ProtectedRoute path={`${url}/orders`} exact={true}>\r\n            <div style={{ width: \"100%\", height: \"100%\", paddingTop: \"20px\" }}>\r\n              <Orders />\r\n            </div>\r\n          </ProtectedRoute>\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n","import React, { ChangeEvent, FormEvent, useCallback, useState } from \"react\";\r\nimport styles from \"./registration.module.css\";\r\nimport {\r\n  Button,\r\n  EmailInput,\r\n  Input,\r\n  PasswordInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\nimport { register } from \"../../services/authSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { IProtectedRouteLocationProps } from \"../../components/protected-route/protected-route\";\r\nimport { TUser } from \"../../utils/types\";\r\n\r\nconst RegistrationPage: React.FC = () => {\r\n  const { accessToken } = useAppSelector((state) => state.auth);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { state } = useLocation<IProtectedRouteLocationProps | undefined>();\r\n\r\n  const [form, setValue] = useState<TUser>({\r\n    email: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleRegister = useCallback(\r\n    (e: FormEvent) => {\r\n      e.preventDefault();\r\n      dispatch(register(form));\r\n    },\r\n    [form]\r\n  );\r\n\r\n  if (accessToken) {\r\n    return <Redirect to={{ pathname: state?.from?.pathname || \"/\" }} />;\r\n  }\r\n\r\n  return (\r\n    <form className={styles.registration} onSubmit={handleRegister}>\r\n      <span className=\"text_type_main-medium\">Регистрация</span>\r\n      <Input\r\n        type=\"text\"\r\n        onChange={handleChange}\r\n        value={form.name}\r\n        placeholder={\"Имя\"}\r\n        name=\"name\"\r\n      />\r\n      <EmailInput onChange={handleChange} value={form.email} name=\"email\" />\r\n      <PasswordInput\r\n        onChange={handleChange}\r\n        value={form.password || \"\"}\r\n        name=\"password\"\r\n      />\r\n      <Button>Зарегистрироваться</Button>\r\n      <div className={`${styles.line} mt-9`}>\r\n        <span className=\"text_type_main-default text_color_inactive mr-2\">\r\n          Уже зарегистрированы?\r\n        </span>\r\n        <Link\r\n          to={{\r\n            pathname: \"/login\",\r\n            state: state ? { from: state.from } : {},\r\n          }}\r\n          className={styles.link}\r\n        >\r\n          Войти\r\n        </Link>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default RegistrationPage;\r\n","import React, { ChangeEvent, FormEvent, useCallback, useState } from \"react\";\r\nimport styles from \"./reset-password.module.css\";\r\nimport {\r\n  Button,\r\n  Input,\r\n  PasswordInput,\r\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport { Link, Redirect, useLocation } from \"react-router-dom\";\r\nimport { resetPassword } from \"../../services/authSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { TResetPasswordArgs } from \"../../utils/types\";\r\nimport { IProtectedRouteLocationProps } from \"../../components/protected-route/protected-route\";\r\n\r\nconst ResetPasswordPage: React.FC = () => {\r\n  const { accessToken, isResetPassword, isPasswordWasReset } = useAppSelector(\r\n    (state) => state.auth\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { state } = useLocation<IProtectedRouteLocationProps | undefined>();\r\n\r\n  const [form, setValue] = useState<TResetPasswordArgs>({\r\n    token: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleResetPassword = useCallback(\r\n    (e: FormEvent) => {\r\n      e.preventDefault();\r\n      dispatch(resetPassword(form));\r\n    },\r\n    [form]\r\n  );\r\n\r\n  if (isPasswordWasReset) {\r\n    return (\r\n      <Redirect\r\n        to={{\r\n          pathname: \"/login\",\r\n          state: state ? { from: state.from } : {},\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (accessToken || !isResetPassword) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <form className={styles.reset_password} onSubmit={handleResetPassword}>\r\n      <span className=\"text_type_main-medium\">Восстановление пароля</span>\r\n      <PasswordInput\r\n        onChange={handleChange}\r\n        value={form.password}\r\n        name=\"password\"\r\n      />\r\n      <Input\r\n        type=\"text\"\r\n        onChange={handleChange}\r\n        value={form.token}\r\n        placeholder=\"Введите код из письма\"\r\n        name=\"token\"\r\n      />\r\n      <Button>Сохранить</Button>\r\n      <div className={`${styles.line} mt-9`}>\r\n        <span className=\"text_type_main-default text_color_inactive mr-2\">\r\n          Вспомнили пароль?\r\n        </span>\r\n        <Link\r\n          to={{\r\n            pathname: \"/login\",\r\n            state: state ? { from: state.from } : {},\r\n          }}\r\n          className={styles.link}\r\n        >\r\n          Войти\r\n        </Link>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ResetPasswordPage;\r\n","import React from \"react\";\r\nimport styles from \"./ingredient-details.module.css\";\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport Modal from \"../../modal/modal\";\r\nimport { useAppSelector } from \"../../../services\";\r\nimport { IIDParams, IModalLocationState } from \"../../../utils/types\";\r\n\r\nconst IngredientDetails: React.FC = () => {\r\n  const location = useLocation<IModalLocationState>();\r\n\r\n  const { modal } = location.state ? location.state : { modal: undefined };\r\n\r\n  const history = useHistory();\r\n\r\n  const { id } = useParams<IIDParams>();\r\n\r\n  const { ingredients } = useAppSelector((state) => state.ingredients);\r\n\r\n  const ingredient = ingredients.find((el) => el._id === id);\r\n\r\n  const content = ingredient ? (\r\n    <div className={styles.ingredient_details}>\r\n      {(!modal || history.action !== \"PUSH\") && (\r\n        <p className=\"text_type_main-large mt-30\">Детали ингредиента</p>\r\n      )}\r\n      <img\r\n        alt=\"Нет фото\"\r\n        src={ingredient.image}\r\n        className={`${styles.illustration} mb-4`}\r\n      />\r\n      <p data-test=\"ingredient_name\" className=\"text_type_main-medium mb-8\">\r\n        {ingredient.name}\r\n      </p>\r\n      <div className={styles.data}>\r\n        <div className={styles.data_item}>\r\n          <p className=\"text text_type_main-default mb-2\">Калории,ккал</p>\r\n          <p className=\"text text_type_digits-default\">{ingredient.calories}</p>\r\n        </div>\r\n        <div className={styles.data_item}>\r\n          <p className=\"text text_type_main-default mb-2\">Белки, г</p>\r\n          <p className=\"text text_type_digits-default\">{ingredient.proteins}</p>\r\n        </div>\r\n        <div className={styles.data_item}>\r\n          <p className=\"text text_type_main-default mb-2\">Жиры, г</p>\r\n          <p className=\"text text_type_digits-default\">{ingredient.fat}</p>\r\n        </div>\r\n        <div className={styles.data_item}>\r\n          <p className=\"text text_type_main-default mb-2\">Углеводы, г</p>\r\n          <p className=\"text text_type_digits-default text_color_inactive\">\r\n            {ingredient.carbohydrates}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    \"Нет такого ингредиента\"\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {modal && history.action === \"PUSH\" ? (\r\n        <Modal onClose={() => history.goBack()} title=\"Детали ингредиента\">\r\n          {content}\r\n        </Modal>\r\n      ) : (\r\n        content\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IngredientDetails;\r\n","import React from \"react\";\r\nimport styles from \"./ingredients.module.css\";\r\nimport { useAppSelector } from \"../../services\";\r\nimport { TIngredient } from \"../../utils/types\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/currency-icon\";\r\n\r\nfunction calculateCount<T>(arr: Array<T>, val: T): number {\r\n  return arr.reduce((a: number, v: T) => (v === val ? a + 1 : a), 0);\r\n}\r\n\r\ninterface IIngredientProps {\r\n  ingredient: TIngredient;\r\n  count: number;\r\n}\r\n\r\nconst Ingredient: React.FC<IIngredientProps> = ({ ingredient, count }) => {\r\n  return (\r\n    <div className={styles.ingredient}>\r\n      <div className={styles.illustration}>\r\n        <div className={styles.border} />\r\n        <img\r\n          alt=\"Нет фото\"\r\n          src={ingredient.image_mobile}\r\n          className={styles.image}\r\n        />\r\n      </div>\r\n      <p className={styles.title}>{ingredient.name}</p>\r\n      <p className={styles.price}>\r\n        {`${count} x ${ingredient.price}`}\r\n        <CurrencyIcon type=\"primary\" />\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface IIngredientsProps {\r\n  ingredients: Array<string>;\r\n}\r\n\r\nconst Ingredients: React.FC<IIngredientsProps> = ({ ingredients }) => {\r\n  const { ingredientsMap } = useAppSelector((state) => state.ingredients);\r\n\r\n  const orderIngredients = Array.from(new Set(ingredients));\r\n\r\n  return (\r\n    <div className={styles.ingredients}>\r\n      <ul className={`${styles.list} custom-scroll`}>\r\n        {orderIngredients.map((id) => {\r\n          const item = ingredientsMap.get(id)!;\r\n          return (\r\n            <li key={item._id}>\r\n              <Ingredient\r\n                ingredient={item}\r\n                count={calculateCount(ingredients, id)}\r\n              />\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ingredients;\r\n","import React, { useEffect } from \"react\";\r\nimport styles from \"./order-info.module.css\";\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport { IIDParams, IModalLocationState } from \"../../utils/types\";\r\nimport Modal from \"../modal/modal\";\r\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/currency-icon\";\r\nimport Ingredients from \"../ingredients/ingredients\";\r\nimport { useAppDispatch, useAppSelector } from \"../../services\";\r\nimport { getOrder } from \"../../services/orders/reducer\";\r\nimport { statusInfo } from \"../../utils/utils\";\r\n\r\nconst OrderInfo: React.FC = () => {\r\n  const location = useLocation<IModalLocationState>();\r\n\r\n  const { modal } = location.state ? location.state : { modal: undefined };\r\n\r\n  const history = useHistory();\r\n\r\n  const { id } = useParams<IIDParams>();\r\n\r\n  const { orders } = useAppSelector((state) => state.orders);\r\n  const { ingredientsMap } = useAppSelector((state) => state.ingredients);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!orders) {\r\n      dispatch(getOrder(id));\r\n    }\r\n  }, [orders]);\r\n\r\n  if (orders === null) {\r\n    return (\r\n      <div className={styles.order_info}>\r\n        <p className=\"text_type_main-default\">Загрузка...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const order = orders.orders.find((order) => order.number.toString() === id)!;\r\n\r\n  const price = order.ingredients\r\n    .map((id) => ingredientsMap.get(id)!.price)\r\n    .reduce((a, b) => a + b);\r\n\r\n  const statusClassName =\r\n    order.status === \"done\" ? styles.status_success : styles.status;\r\n\r\n  const content = (\r\n    <div className={styles.order_info}>\r\n      <p className={styles.title}>{order.name}</p>\r\n      <p className={statusClassName}>{statusInfo(order.status)}</p>\r\n      <p className={styles.ingredients_title}>Состав:</p>\r\n      <div className={styles.ingredients}>\r\n        <Ingredients ingredients={order.ingredients} />\r\n      </div>\r\n      <div className={styles.footer}>\r\n        <span className=\"text_type_main-default text_color_inactive\">\r\n          {order.createdAt}\r\n        </span>\r\n        <p className={styles.price}>\r\n          {price}\r\n          <CurrencyIcon type=\"primary\" />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {modal && history.action === \"PUSH\" ? (\r\n        <Modal onClose={() => history.goBack()} title={`#${order.number}`}>\r\n          <div className={styles.order_info}>{content}</div>\r\n        </Modal>\r\n      ) : (\r\n        <div className={styles.order_info}>\r\n          <div className={styles.container}>\r\n            <p className={styles.number}>{`#${order.number}`}</p>\r\n            {content}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderInfo;\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport styles from \"./app.module.css\";\n\nimport AppHeader from \"../app-header/app-header\";\nimport {\n  ForgotPasswordPage,\n  HomePage,\n  LoginPage,\n  NotFound404,\n  OrderFeedPage,\n  ProfilePage,\n  RegistrationPage,\n  ResetPasswordPage,\n} from \"../../pages\";\nimport ProtectedRoute from \"../protected-route/protected-route\";\nimport IngredientDetails from \"../burger-ingredients/ingredient-details/ingredient-details\";\nimport { fetchIngredients } from \"../../services/ingredientsSlice\";\nimport { useAppDispatch, useAppSelector } from \"../../services\";\nimport OrderInfo from \"../order-info/order-info\";\n\nconst App: React.FC = () => {\n  const { ingredients, isLoading, hasError } = useAppSelector(\n    (state) => state.ingredients\n  );\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(fetchIngredients());\n  }, []);\n\n  return (\n    <Router>\n      <div className={styles.app}>\n        <AppHeader />\n        <main className={styles.main}>\n          {isLoading && (\n            <p className=\"text text_type_main-medium\">Загрузка...</p>\n          )}\n          {hasError && (\n            <p className=\"text text_type_main-medium\">\n              Не удалось загрузить данные\n            </p>\n          )}\n          {!isLoading && !hasError && ingredients.length && (\n            <Switch>\n              <Route path=\"/react-burger\" exact={true}>\n                <HomePage />\n              </Route>\n              <Route path=\"/react-burger/login\" exact={true}>\n                <LoginPage />\n              </Route>\n              <Route path=\"/react-burger/register\" exact={true}>\n                <RegistrationPage />\n              </Route>\n              <Route path=\"/react-burger/forgot-password\" exact={true}>\n                <ForgotPasswordPage />\n              </Route>\n              <Route path=\"/react-burger/reset-password\" exact={true}>\n                <ResetPasswordPage />\n              </Route>\n              <ProtectedRoute\n                path=\"/react-burger/profile/orders/:id\"\n                exact={true}\n              >\n                <OrderInfo />\n              </ProtectedRoute>\n              <ProtectedRoute path=\"/react-burger/profile\">\n                <ProfilePage />\n              </ProtectedRoute>\n              <Route path=\"/react-burger/feed\" exact={true}>\n                <OrderFeedPage />\n              </Route>\n              <Route path=\"/react-burger/feed/:id\" exact={true}>\n                <OrderInfo />\n              </Route>\n              <Route path=\"/react-burger/ingredients/:id\" exact={true}>\n                <IngredientDetails />\n              </Route>\n              <Route>\n                <NotFound404 />\n              </Route>\n            </Switch>\n          )}\n        </main>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/app/app\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./services\";\r\nimport { enableMapSet } from \"immer\";\r\n\r\nenableMapSet();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__3MGNV\",\"header_content\":\"app-header_header_content__3RD-e\",\"left_menu\":\"app-header_left_menu__1IKcz\",\"menu_item\":\"app-header_menu_item__1IBCh text_type_main-default pt-4 pb-4 pl-5 pr-5\",\"active_menu_item\":\"app-header_active_menu_item__3ApvA app-header_menu_item__1IBCh text_type_main-default pt-4 pb-4 pl-5 pr-5\",\"right_menu\":\"app-header_right_menu__3LqE6\",\"logo\":\"app-header_logo__1A_2E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger_constructor\":\"burger-constructor_burger_constructor__hdjTc\",\"constructor_area\":\"burger-constructor_constructor_area__31B1X\",\"ingredients\":\"burger-constructor_ingredients__1Bhok\",\"scroll_area\":\"burger-constructor_scroll_area__1AZie\",\"constructor_item\":\"burger-constructor_constructor_item__2DgoO\",\"price\":\"burger-constructor_price__2jlsf\",\"info\":\"burger-constructor_info__3Cosy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__30CXn\",\"left\":\"profile_left__2mVI8 pt-30\",\"menu\":\"profile_menu__3DIyi\",\"menu_item\":\"profile_menu_item__1qhSv text_type_main-medium\",\"active_menu_item\":\"profile_active_menu_item__3QY2g profile_menu_item__1qhSv text_type_main-medium\",\"right\":\"profile_right__Ehlsq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orders_summary\":\"order-summary_orders_summary__2nqfK\",\"statuses\":\"order-summary_statuses__11efx\",\"status\":\"order-summary_status__16KQC\",\"columns\":\"order-summary_columns__1kUwP\",\"columns_success\":\"order-summary_columns_success__3mwHY order-summary_columns__1kUwP\",\"column\":\"order-summary_column__3V_Y-\",\"count\":\"order-summary_count__2Ahbl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"ingredients_ingredients__2xfxG\",\"list\":\"ingredients_list__3Azx-\",\"ingredient\":\"ingredients_ingredient__O0qj7\",\"illustration\":\"ingredients_illustration__160Wv\",\"image\":\"ingredients_image__GEixL\",\"border\":\"ingredients_border__rgoFe\",\"title\":\"ingredients_title__L2tVi text_type_main-default\",\"price\":\"ingredients_price__VbwgV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"order-card_card__30cS_\",\"id_info\":\"order-card_id_info__1akOU\",\"price\":\"order-card_price__5wJze\",\"composition_and_price\":\"order-card_composition_and_price__3CP3T\",\"name\":\"order-card_name__2HSgf text_type_main-medium\",\"status\":\"order-card_status__2xHjo text text_type_main-default\",\"status_success\":\"order-card_status_success__2QBY1 order-card_status__2xHjo text text_type_main-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient_details\":\"ingredient-details_ingredient_details__D--uQ\",\"illustration\":\"ingredient-details_illustration__3mOWf\",\"data_item\":\"ingredient-details_data_item__1QYKY\",\"data\":\"ingredient-details_data__oHZ3o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order_feed\":\"order-feed_order_feed__2dwUG\",\"orders\":\"order-feed_orders__1SeX1\",\"title\":\"order-feed_title__3fnrk text text_type_main-large\",\"summary\":\"order-feed_summary__2_S41\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger_ingredients\":\"burger-ingredients_burger_ingredients__3N4_i\",\"title\":\"burger-ingredients_title__vd_ok text text_type_main-large\",\"tabs\":\"burger-ingredients_tabs__2ydTy mb-10 mt-5\",\"ingredients\":\"burger-ingredients_ingredients__1OWIS\",\"group_list\":\"burger-ingredients_group_list__2hG-a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient_item\":\"ingredient-item_ingredient_item__3G_6L\",\"counter\":\"ingredient-item_counter__3P0Kt\",\"content\":\"ingredient-item_content__tcX-4\",\"price\":\"ingredient-item_price__W8Bfq\",\"illustration\":\"ingredient-item_illustration__tBIGp\",\"ingredient_item_text\":\"ingredient-item_ingredient_item_text__3B3et\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__1HTAh\",\"id_info\":\"login_id_info__204zo\",\"link\":\"login_link__14fzB text_type_main-default text_color_accent\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"illustrations\":\"ingredients-illustrations_illustrations__3fEju\",\"illustration\":\"ingredients-illustrations_illustration__frJpm\",\"image\":\"ingredients-illustrations_image__P5Ebs\",\"border\":\"ingredients-illustrations_border__2k5Lu\",\"number\":\"ingredients-illustrations_number__25aiA text_type_main-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"placeholder_item\":\"placeholder-item_placeholder_item__2TQ6j\",\"placeholder_item_highlighted\":\"placeholder-item_placeholder_item_highlighted__1rOzT\",\"placeholder_item_top\":\"placeholder-item_placeholder_item_top__2uVpy\",\"placeholder_item_bottom\":\"placeholder-item_placeholder_item_bottom__16uc5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feed\":\"orders_feed__29_K_\",\"list\":\"orders_list__3sXIg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot_password\":\"forgot-password_forgot_password__1xzal\",\"id_info\":\"forgot-password_id_info__1bUCv\",\"link\":\"forgot-password_link__13SQi text_type_main-default text_color_accent\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__XFWYD\",\"header\":\"modal_header__2j-Ms\",\"header_with_title\":\"modal_header_with_title__303sE modal_header__2j-Ms\",\"header_without_title\":\"modal_header_without_title__3Qc3w modal_header__2j-Ms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__3EXZO pt-30\",\"link\":\"profile_link__26IAv text_type_main-default text_color_accent\",\"actions\":\"profile_actions__1u4_E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registration\":\"registration_registration__1PrwB\",\"id_info\":\"registration_id_info__8Nj8x\",\"link\":\"registration_link__3rzSN text_type_main-default text_color_accent\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reset_password\":\"reset-password_reset_password__1q-Ga\",\"id_info\":\"reset-password_id_info__3u6xs\",\"link\":\"reset-password_link__3yoj1 text_type_main-default text_color_accent\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__F4a47\",\"main\":\"app_main__24uKo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order_details\":\"order-details_order_details__2mnUh\",\"image\":\"order-details_image__3ApCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"not_found\":\"not-found_not_found__1iGiA\",\"link\":\"not-found_link__3acEQ text_type_main-default text_color_accent\"};"],"sourceRoot":""}